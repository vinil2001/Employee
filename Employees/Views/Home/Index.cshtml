@model IEnumerable<Employees.Models.Employee>
@using Microsoft.EntityFrameworkCore

    @{
        Layout = null;
    }

    <!DOCTYPE html>

    <html>
    <head>
        <link href="~/css/responstable.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width" />
        <title>Index</title>
    </head>
    <body>
        <p>
            @*<a asp-action="Create">Add new employee</a>*@
            <button type="button" onclick="location.href='@Url.Action("Create")'">
                Add new employee
            </button>
        </p>
        <table class="responstable">
            <thead>
                <tr>

                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.EmployeeJobs)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.EmploymentDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Rate)
                    </th>
                    @*<th>
                        @Html.DisplayNameFor(model => model.CreationDate)
                    </th>*@
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            <ul>
                                @foreach (var i in item.EmployeeJobs )
                                {
                                    <li>@i.Job.JobName </li>
                                }
                            </ul>
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.EmploymentDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Rate)
                        </td>
                        @*<td>
                            @Html.DisplayFor(modelItem => item.CreationDate)
                        </td>*@
                        <td>
                            @*<a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                                <a asp-action="Details" asp-route-id="@item.Id">Details</a> |*@
                            <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </body>
</html>
